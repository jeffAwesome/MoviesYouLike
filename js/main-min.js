(function(a,b,c){a.getQueryParam=function(e){var d=window.location.search.match(new RegExp("(\\?|&)"+e+"(\\[\\])?=([^&]*)"));return d?d[3]:false};a.initMovieData=function(){var d=a.getQueryParam("search");var e=encodeURIComponent(d);b.ajax({type:"GET",url:"http://api.themoviedb.org/3/search/movies?api_key=8e7c67585fa149a56537b63fe68776ae&query="+e+"",dataType:"json",success:function(f){if(f.total_results===0){a.renderNoResults()}else{a.shortOverviewMovieData(f.results[0].id);if(f.total_results>1){a.renderNotWhatYouMeant(f)}}}})};a.shortOverviewMovieData=function(d){b.ajax({type:"GET",url:"http://api.themoviedb.org/3/movie/"+d+"?api_key=8e7c67585fa149a56537b63fe68776ae&language=en",dataType:"json",success:function(e){a.renderShortDescript(e);a.relatedMovies(d)}})};a.relatedMovies=function(d){b.ajax({type:"GET",url:"http://api.themoviedb.org/3/movie/"+d+"/similar_movies?api_key=8e7c67585fa149a56537b63fe68776ae&language=en",dataType:"json",success:function(e){a.renderRelatedMovies(e)}})};a.movieViewData=function(){var d=a.getQueryParam("movieID");b.ajax({type:"GET",url:"http://api.themoviedb.org/3/movie/"+d+"?api_key=8e7c67585fa149a56537b63fe68776ae&language=en",dataType:"json",success:function(e){a.renderMovieView(e);if(e.cast.id[0]){a.castMovieData(d)}}})};a.castMovieData=function(d){b.ajax({type:"GET",url:"http://api.themoviedb.org/3/movie/"+d+"/casts?api_key=8e7c67585fa149a56537b63fe68776ae",dataType:"json",success:function(e){a.renderCastView(e)}})};a.renderShortDescript=function(h){var g=b("#overview-short-description").html();var f=Handlebars.compile(g);var e=h;var d=f(e);b(".overview-short-description").append(d)};a.renderNoResults=function(){var g=b("#no-results").html();var f=Handlebars.compile(g);var e=[{empty:"Whoa, you like some obscure movies... sorry we didn't find any movies for you. Try another search."}];var d=f(e);b(".no-results").append(d)};a.renderRelatedMovies=function(h){var g=b("#related-movies").html();var f=Handlebars.compile(g);var e=h;var d=f(e);b(".related-movies").append(d)};a.renderNotWhatYouMeant=function(h){console.log("Were in the not what you meant function");var g=b("#not-what-you-meant").html();var f=Handlebars.compile(g);var e=h;var d=f(e);b(".not-what-you-meant").append(d)};a.renderMovieView=function(h){var g=b("#movie-view").html();var f=Handlebars.compile(g);var e=h;var d=f(e);b(".movie-view").append(d)};a.renderCastView=function(d){var h=b("#movie-cast-view").html();var g=Handlebars.compile(h);var f=d;var e=g(f);b(".cast-members").append(e)}}(window.myMovieRec=window.myMovieRec||{},jQuery));